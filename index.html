<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHEMILEADER - Team Management System</title>
    
    <!-- í°íŠ¸: Noto Sans KR -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <style>
        /* [ë””ìì¸ ì‹œìŠ¤í…œ] */
        :root {
            --color-magenta: #D7177B;
            --color-purple: #551D83;
            --color-lightblue: #70C0E6;
            --color-teal: #008785;
            --color-bg-gray: #F5F5F5;
            --sidebar-width: 240px;
            --header-height: 64px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--color-bg-gray);
            color: #333;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* ---------------------------------------------------------
           1. ë¡œê·¸ì¸ í˜ì´ì§€ (White & 3-Color Gradient Flipped)
           --------------------------------------------------------- */
        #login-page {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #ffffff;
            display: flex; align-items: center; justify-content: center;
            z-index: 9999;
        }

        .login-card {
            background: #ffffff; padding: 60px 50px; 
            width: 100%; max-width: 420px; text-align: center;
        }

        .login-logo {
            font-size: 42px; font-weight: 900; letter-spacing: -0.5px; margin-bottom: 40px;
            background: linear-gradient(90deg, var(--color-magenta) 0%, var(--color-purple) 50%, var(--color-lightblue) 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; color: transparent;
        }

        .input-group { margin-bottom: 20px; text-align: left; }
        .input-label { font-size: 13px; font-weight: 700; color: #555; margin-bottom: 8px; display: block; }
        
        .login-input {
            width: 100%; padding: 14px 16px; border: 1px solid #ddd;
            border-radius: 8px; font-size: 15px; outline: none; transition: 0.2s; background: #f9f9f9; color: #333;
        }
        .login-input:focus { border-color: var(--color-purple); background: #fff; box-shadow: 0 0 0 3px rgba(85, 29, 131, 0.1); }

        .login-btn {
            width: 100%; padding: 16px; margin-top: 24px;
            background: linear-gradient(90deg, var(--color-magenta) 0%, var(--color-purple) 50%, var(--color-lightblue) 100%);
            color: #fff; border: none; border-radius: 8px; font-size: 16px; font-weight: 700; cursor: pointer; transition: 0.2s;
            box-shadow: 0 4px 15px rgba(85, 29, 131, 0.25);
        }
        .login-btn:hover { transform: translateY(-2px); opacity: 0.95; }
        .login-footer { margin-top: 32px; font-size: 12px; color: #aaa; }

        /* ---------------------------------------------------------
           2. ë©”ì¸ ë ˆì´ì•„ì›ƒ
           --------------------------------------------------------- */
        #main-app { display: none; width: 100%; height: 100%; }

        /* ì‚¬ì´ë“œë°” */
        .main-sidebar {
            width: var(--sidebar-width); background: #fff; border-right: 1px solid #e0e0e0;
            display: flex; flex-direction: column; flex-shrink: 0; z-index: 100;
        }
        
        .app-logo-area {
            height: var(--header-height); display: flex; align-items: center; padding-left: 24px;
            font-size: 20px; font-weight: 900; letter-spacing: -0.5px; cursor: pointer;
            background: linear-gradient(90deg, var(--color-magenta) 0%, var(--color-purple) 50%, var(--color-lightblue) 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
        }

        .main-menu { list-style: none; margin-top: 20px; padding: 0 12px; }
        .menu-item {
            padding: 16px 20px; border-radius: 12px; margin-bottom: 8px; cursor: pointer;
            font-size: 16px; font-weight: 700; color: #555; transition: 0.2s; display: flex; align-items: center; gap: 12px;
        }
        .menu-item:hover { background-color: #f5f5f5; color: var(--color-purple); }
        .menu-item.active { background-color: #f4eff9; color: var(--color-purple); }
        
        .leader-profile { margin-top: auto; padding: 24px; border-top: 1px solid #eee; display: flex; align-items: center; gap: 12px; }
        .lp-avatar { width: 40px; height: 40px; border-radius: 50%; background: #f0f0f0; display: flex; align-items: center; justify-content: center; font-size: 20px; }
        .lp-info { display: flex; flex-direction: column; }
        .lp-name { font-size: 14px; font-weight: 700; }
        .lp-role { font-size: 11px; color: #888; }

        /* ì»¨í…ì¸  ì˜ì—­ */
        .content-container { flex: 1; background-color: var(--color-bg-gray); overflow-y: auto; padding: 0; position: relative; display: flex; flex-direction: column; }
        
        /* í—¤ë” */
        .main-header {
            height: var(--header-height); background: #fff; border-bottom: 1px solid #eee; display: flex; align-items: center; justify-content: space-between; padding: 0 40px; flex-shrink: 0;
        }
        .header-title { font-size: 18px; font-weight: 700; color: #333; }
        .search-box {
            background: #f5f5f5; border: 1px solid #ddd; border-radius: 20px; padding: 8px 20px; outline: none; width: 280px; font-size: 14px; transition: 0.3s;
        }
        .search-box:focus { border-color: var(--color-purple); background: #fff; }

        /* ë·° (Sections) */
        .view-section { display: none; padding: 40px; max-width: 1200px; margin: 0 auto; width: 100%; height: 100%; overflow-y: auto;}
        .view-section.active { display: block; animation: fadeIn 0.3s; }

        /* [VIEW 1] ëŒ€ì‹œë³´ë“œ */
        .dashboard-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 24px; }
        .dash-card { background: #fff; border-radius: 16px; padding: 32px; box-shadow: 0 4px 20px rgba(0,0,0,0.04); }
        .dash-welcome { font-size: 28px; font-weight: 700; margin-bottom: 12px; color: #333; }
        .dash-sub { color: #666; font-size: 16px; margin-bottom: 30px; }
        .dash-info-row { display: flex; gap: 40px; margin-bottom: 20px; border-bottom: 1px solid #f0f0f0; padding-bottom: 20px; }
        .dash-label { font-size: 13px; color: #888; font-weight: 700; margin-bottom: 6px; display: block; }
        .dash-value { font-size: 18px; font-weight: 600; color: #333; }
        
        .cheer-card { 
            background: linear-gradient(135deg, #e0f7fa 0%, #ffffff 100%); 
            border: 1px solid #b2ebf2; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;
        }
        .cheer-icon { font-size: 60px; margin-bottom: 16px; animation: float 3s infinite ease-in-out; }
        .cheer-text { font-size: 18px; font-weight: 700; color: var(--color-teal); line-height: 1.5; }

        /* [VIEW 2] í‰ê°€ */
        .sub-tabs { display: flex; border-bottom: 1px solid #ddd; margin-bottom: 30px; }
        .sub-tab-item { padding: 14px 24px; cursor: pointer; font-size: 16px; font-weight: 500; color: #888; border-bottom: 3px solid transparent; transition: 0.2s; }
        .sub-tab-item:hover { color: #555; }
        .sub-tab-item.active { color: var(--color-purple); font-weight: 700; border-bottom-color: var(--color-purple); }
        .eval-placeholder { text-align: center; padding: 100px 0; color: #aaa; font-size: 16px; background: #fff; border-radius: 12px; border: 1px dashed #ddd; }

        /* [VIEW 3] í”¼ë“œë°± - ë¦¬ìŠ¤íŠ¸ */
        .member-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 24px; }
        .member-card {
            background: #fff; border-radius: 16px; padding: 30px 24px; border: 1px solid #eee;
            cursor: pointer; transition: all 0.2s; display: flex; flex-direction: column; align-items: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.02);
        }
        .member-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(85,29,131,0.1); border-color: var(--color-purple); }
        .mc-avatar { width: 90px; height: 90px; background: #f9f9f9; border-radius: 50%; font-size: 40px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .mc-name { font-size: 20px; font-weight: 700; margin-bottom: 6px; }
        .mc-role { font-size: 14px; color: #888; margin-bottom: 20px; }
        .mc-tags { display: flex; gap: 6px; flex-wrap: wrap; justify-content: center; }
        .mc-tag { font-size: 12px; background: #f0f4f8; padding: 4px 10px; border-radius: 20px; color: #555; font-weight: 500; }

        /* [VIEW 4] í”¼ë“œë°± - ìƒì„¸ */
        .detail-header { display: flex; align-items: center; gap: 20px; margin-bottom: 30px; }
        .btn-back { 
            padding: 10px 18px; background: #fff; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; font-weight: 700; color: #555;
            display: flex; align-items: center; gap: 6px; transition: 0.2s;
        }
        .btn-back:hover { background: #f5f5f5; color: #333; }

        /* ìƒì„¸ íƒ­ (í¼ì§€ë§‰í•˜ê²Œ) */
        .detail-tabs { display: flex; gap: 12px; margin-bottom: 24px; }
        .detail-tab { 
            flex: 1; text-align: center; padding: 16px; background: #fff; border: 1px solid #eee; border-radius: 12px; 
            font-size: 16px; font-weight: 600; color: #888; cursor: pointer; transition: 0.2s;
        }
        .detail-tab:hover { background: #fafafa; }
        .detail-tab.active { background: var(--color-purple); color: #fff; border-color: var(--color-purple); box-shadow: 0 4px 12px rgba(85,29,131,0.2); }

        .detail-content { display: none; animation: fadeIn 0.3s; }
        .detail-content.active { display: block; }

        /* ìƒì„¸ ì¹´ë“œë“¤ */
        .card { background: #fff; border-radius: 16px; padding: 28px; box-shadow: 0 4px 12px rgba(0,0,0,0.03); border: 1px solid #eee; margin-bottom: 24px; }
        .card-head { font-size: 18px; font-weight: 700; color: #333; margin-bottom: 20px; border-bottom: 1px solid #f5f5f5; padding-bottom: 12px; display: flex; justify-content: space-between; align-items: center; }

        /* ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ */
        .grid-basic { display: grid; grid-template-columns: 320px 1fr; gap: 24px; }
        .grid-half { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }

        /* ìš”ì†Œ ìŠ¤íƒ€ì¼ */
        .profile-lg-box { text-align: center; }
        .profile-lg-img { width: 120px; height: 120px; background: #f0f0f0; border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 50px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        
        .skill-row { margin-bottom: 16px; }
        .skill-info { display: flex; justify-content: space-between; font-size: 14px; font-weight: 600; margin-bottom: 6px; }
        .progress-track { width: 100%; height: 8px; background: #f0f0f0; border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; border-radius: 4px; transition: width 1s ease; }

        .swot-box { display: flex; gap: 20px; }
        .swot-col { flex: 1; }
        .swot-head { font-weight: 700; margin-bottom: 10px; display: flex; align-items: center; gap: 6px; }
        .swot-item { font-size: 13px; padding: 10px 12px; background: #f9f9f9; border-radius: 8px; margin-bottom: 6px; border: 1px solid #f0f0f0; }

        .timeline-item { position: relative; padding-left: 20px; padding-bottom: 24px; border-left: 2px solid #eee; }
        .timeline-item::before { content:''; position: absolute; left: -6px; top: 0; width: 10px; height: 10px; border-radius: 50%; background: #fff; border: 3px solid var(--color-purple); }
        .tl-date { font-size: 13px; font-weight: 700; color: var(--color-purple); }
        .tl-title { font-size: 15px; font-weight: 700; margin-top: 4px; }
        .tl-desc { font-size: 13px; color: #666; margin-top: 2px; }

        /* ì„±ê³¼ íƒ­ ìŠ¤íƒ€ì¼ */
        .eval-grade-card { background: linear-gradient(135deg, #222 0%, #444 100%); color: #fff; border-radius: 16px; padding: 30px; display: flex; justify-content: space-between; align-items: center; }
        .grade-big { font-size: 60px; font-weight: 900; line-height: 1; text-shadow: 0 0 20px rgba(215,23,123,0.5); }
        
        .kpi-donut-wrapper { display: flex; align-items: center; justify-content: center; gap: 40px; }
        .kpi-text { text-align: left; }

        .career-path { display: flex; align-items: center; justify-content: center; gap: 20px; padding: 20px 0; }
        .cp-node { padding: 12px 24px; background: #f5f5f5; border-radius: 12px; font-weight: 700; color: #333; }
        .cp-node.future { background: #f4eff9; color: var(--color-purple); border: 1px solid var(--color-purple); }
        .cp-arrow { font-size: 24px; color: #ddd; }

        /* ì „ë‹¬(í”¼ë“œë°±) íƒ­ ìŠ¤íƒ€ì¼ */
        .fb-input-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-bottom: 20px; }
        .fb-card-small { background: #fcfcfc; border: 1px solid #eee; padding: 16px; border-radius: 12px; }
        .fb-label { font-size: 14px; font-weight: 700; margin-bottom: 10px; display: block; }
        .fb-textarea { width: 100%; height: 100px; border: 1px solid #ddd; border-radius: 8px; padding: 12px; resize: none; font-family: inherit; font-size: 14px; outline: none; transition: 0.2s; }
        .fb-textarea:focus { border-color: var(--color-purple); background: #fff; }

        .evidence-container { background: #f9f9f9; padding: 20px; border-radius: 12px; margin-bottom: 20px; display: none; }
        .evidence-container.active { display: block; animation: fadeIn 0.3s; }
        .evidence-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; }
        .evidence-box { background: #fff; border: 1px solid #ddd; padding: 16px; border-radius: 8px; cursor: pointer; transition: 0.2s; position: relative; }
        .evidence-box:hover { border-color: var(--color-lightblue); }
        .evidence-box.selected { border-color: var(--color-purple); background: #f4eff9; box-shadow: 0 4px 12px rgba(85,29,131,0.1); }
        .evidence-box.selected::after { content:'âœ”'; position: absolute; top:10px; right:10px; color:var(--color-purple); font-weight:bold; }
        
        .tone-controls { display: flex; gap: 20px; padding: 20px; background: #fff; border: 1px solid #eee; border-radius: 12px; margin-bottom: 20px; }
        .tone-group { flex: 1; }
        .tone-btn-group { display: flex; background: #f5f5f5; border-radius: 8px; padding: 4px; margin-top: 8px; }
        .tone-btn { flex: 1; text-align: center; padding: 8px; font-size: 13px; cursor: pointer; border-radius: 6px; color: #888; transition: 0.2s; font-weight: 500; }
        .tone-btn.active { background: #fff; color: var(--color-purple); font-weight: 700; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }

        .final-msg-box { width: 100%; height: 200px; border: 1px solid var(--color-purple); border-radius: 12px; padding: 20px; font-size: 15px; line-height: 1.6; resize: none; outline: none; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes float { 0% { transform: translateY(0); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0); } }

    </style>
</head>
<body>

    <!-- [1] ë¡œê·¸ì¸ í˜ì´ì§€ -->
    <div id="login-page">
        <div class="login-card">
            <div class="login-logo">CHEMILEADER</div>
            <div class="input-group">
                <label class="input-label">ì•„ì´ë””</label>
                <input type="text" id="login-id" class="login-input" placeholder="IDë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            <div class="input-group">
                <label class="input-label">ë¹„ë°€ë²ˆí˜¸</label>
                <input type="password" id="login-pw" class="login-input" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            <button class="login-btn" onclick="checkLogin()">ë¡œê·¸ì¸</button>
            <div class="login-footer">Copyright Â© HEROS_B. All Rights Reserved.</div>
        </div>
    </div>

    <!-- [2] ë©”ì¸ ì•± -->
    <div id="main-app">
        <!-- ì‚¬ì´ë“œë°” -->
        <nav class="main-sidebar">
            <div class="app-logo-area" onclick="showDashboard()">CHEMILEADER</div>
            
            <ul class="main-menu">
                <li class="menu-item" id="menu-eval" onclick="showEval()">ğŸ“Š í‰ê°€</li>
                <li class="menu-item" id="menu-feedback" onclick="showFeedbackList()">ğŸ’¬ í”¼ë“œë°±</li>
            </ul>

            <div class="leader-profile">
                <div class="lp-avatar">ğŸ‘¨ğŸ»â€ğŸ’¼</div>
                <div class="lp-info">
                    <div class="lp-name">ë°•LG íŒ€ì¥</div>
                    <div class="lp-role">DX ì¶”ì§„íŒ€</div>
                </div>
            </div>
        </nav>

        <!-- ì»¨í…ì¸  -->
        <main class="content-container">
            <header class="main-header">
                <div class="header-title">Team Management</div>
                <input type="text" class="search-box" placeholder="íŒ€ì› ê²€ìƒ‰...">
            </header>

            <!-- [VIEW 1] ëŒ€ì‹œë³´ë“œ -->
            <section id="view-dashboard" class="view-section active">
                <div class="dashboard-grid">
                    <div class="dash-card">
                        <div class="dash-welcome">ë°•LG íŒ€ì¥ë‹˜, ì•ˆë…•í•˜ì„¸ìš”! ğŸ‘‹</div>
                        <div class="dash-sub">ì˜¤ëŠ˜ë„ íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ì„±ì¥í•˜ëŠ” í•˜ë£¨ ë˜ì„¸ìš”.</div>
                        <div class="dash-info-row">
                            <div><span class="dash-label">ì†Œì† íŒ€</span><span class="dash-value">DX ì¶”ì§„íŒ€</span></div>
                            <div><span class="dash-label">íŒ€ ëª©í‘œ</span><span class="dash-value">Global Top Tier Science Company ë„ì•½</span></div>
                        </div>
                        <div style="margin-top: 20px;">
                            <span class="dash-label">ì£¼ìš” í”„ë¡œì íŠ¸</span>
                            <div style="display:flex; gap:10px; margin-top:8px;">
                                <span class="mc-tag" style="background:#e3f2fd; color:#0277bd;">ğŸ­ Smart Factory Phase 2</span>
                                <span class="mc-tag" style="background:#f3e5f5; color:#7b1fa2;">ğŸ¤– AI Safety Model ê³ ë„í™”</span>
                            </div>
                        </div>
                    </div>
                    <div class="dash-card cheer-card">
                        <div class="cheer-icon">ğŸ€</div>
                        <div class="cheer-text">ë¦¬ë”ë‹˜ì˜ ê¸ì •ì ì¸ í”¼ë“œë°±ì´<br>íŒ€ì„ ì„±ì¥ì‹œí‚µë‹ˆë‹¤.<br>ì˜¤ëŠ˜ë„ í˜ë‚´ì„¸ìš”!</div>
                    </div>
                </div>
            </section>

            <!-- [VIEW 2] í‰ê°€ -->
            <section id="view-evaluation" class="view-section">
                <div class="sub-tabs">
                    <div class="sub-tab-item active" onclick="switchEvalTab(this)">ì •ëŸ‰í‰ê°€</div>
                    <div class="sub-tab-item" onclick="switchEvalTab(this)">ì •ì„±í‰ê°€</div>
                    <div class="sub-tab-item" onclick="switchEvalTab(this)">ê³µë™í‰ê°€</div>
                </div>
                <div class="eval-placeholder">
                    <div style="font-size:40px; margin-bottom:20px;">ğŸš§</div>
                    í‰ê°€ ëª¨ë“ˆì€ í˜„ì¬ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.<br>ì¶”í›„ ì—…ë°ì´íŠ¸ë  ì˜ˆì •ì…ë‹ˆë‹¤.
                </div>
            </section>

            <!-- [VIEW 3] í”¼ë“œë°± - ëª©ë¡ -->
            <section id="view-feedback-list" class="view-section">
                <div style="margin-bottom:24px;">
                    <div style="font-size:24px; font-weight:700;">íŒ€ì› í”¼ë“œë°±</div>
                    <div style="color:#888; font-size:14px;">íŒ€ì›ì„ ì„ íƒí•˜ì—¬ ìƒì„¸ í”¼ë“œë°±ì„ ì‘ì„±í•˜ì„¸ìš”.</div>
                </div>
                <div class="member-grid" id="member-card-container"></div>
            </section>

            <!-- [VIEW 4] í”¼ë“œë°± - ìƒì„¸ -->
            <section id="view-feedback-detail" class="view-section">
                <div class="detail-header">
                    <button class="btn-back" onclick="showFeedbackList()">â† ëª©ë¡ìœ¼ë¡œ</button>
                    <div style="font-size:20px; font-weight:700;">
                        <span id="detail-member-name"></span> <span style="font-weight:400; color:#888;">ìƒì„¸ ì •ë³´</span>
                    </div>
                </div>

                <div class="detail-tabs">
                    <div class="detail-tab active" onclick="switchDetailTab('basic', this)">ê¸°ë³¸ì •ë³´</div>
                    <div class="detail-tab" onclick="switchDetailTab('perf', this)">ì„±ê³¼ & ìœ¡ì„±</div>
                    <div class="detail-tab" onclick="switchDetailTab('feedback', this)">ì „ë‹¬ (Feedback)</div>
                </div>

                <!-- 1. ê¸°ë³¸ì •ë³´ -->
                <div id="dt-basic" class="detail-content active">
                    <div class="grid-basic">
                        <div class="card profile-lg-box">
                            <div class="profile-lg-img" id="p-avatar"></div>
                            <div style="font-size:22px; font-weight:700;" id="p-name"></div>
                            <div style="color:#666; margin-bottom:12px;" id="p-job"></div>
                            <div id="p-keywords" style="display:flex; justify-content:center; gap:6px; flex-wrap:wrap;"></div>
                            <div id="p-info-list" style="margin-top:20px; text-align:left; border-top:1px solid #eee; padding-top:20px;"></div>
                        </div>
                        <div class="card">
                            <div class="card-head">ì „ë¬¸ ì—­ëŸ‰</div>
                            <div id="p-skills"></div>
                            
                            <div class="card-head" style="margin-top:30px;">SWOT ë¶„ì„</div>
                            <div class="swot-box">
                                <div class="swot-col">
                                    <div class="swot-head" style="color:var(--color-magenta)">ğŸ”¥ ê°•ì </div>
                                    <div id="p-strengths"></div>
                                </div>
                                <div class="swot-col">
                                    <div class="swot-head" style="color:var(--color-teal)">ğŸ’¡ ë³´ì™„ì </div>
                                    <div id="p-weaknesses"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid-half">
                        <div class="card">
                            <div class="card-head">ì„±ì¥ ê³¡ì„ </div>
                            <div style="height:150px; display:flex; align-items:center; justify-content:center;">
                                <svg width="300" height="120" viewBox="0 0 300 120">
                                    <path id="growth-path" d="" fill="none" stroke="var(--color-purple)" stroke-width="3" stroke-linecap="round"/>
                                    <g id="growth-points"></g>
                                </svg>
                            </div>
                            <div id="growth-desc" style="text-align:center; color:#666; font-size:14px;"></div>
                        </div>
                        <div class="card">
                            <div class="card-head">Career History</div>
                            <div id="p-history" style="padding-top:10px;"></div>
                        </div>
                    </div>
                </div>

                <!-- 2. ì„±ê³¼ & ìœ¡ì„± -->
                <div id="dt-perf" class="detail-content">
                    <div class="eval-summary-card">
                        <div>
                            <div style="font-size:14px; opacity:0.8;">2023 ì¢…í•© ì„±ê³¼ ë“±ê¸‰</div>
                            <div class="grade-big" id="final-grade"></div>
                        </div>
                        <div style="text-align:right;">
                            <div style="font-size:16px;">ì—…ë¬´ë‹¬ì„±ë„(KPI) <strong id="sum-kpi" style="font-size:24px;"></strong>ì </div>
                            <div style="font-size:16px; margin-top:4px;">í•µì‹¬ê°€ì¹˜ <strong id="sum-cv" style="font-size:24px;"></strong>ì </div>
                        </div>
                    </div>

                    <div class="grid-half">
                        <div class="card">
                            <div class="card-head">ì—…ë¬´ ë‹¬ì„±ë„ (KPI)</div>
                            <div class="kpi-donut-wrapper">
                                <svg width="120" height="120">
                                    <circle cx="60" cy="60" r="54" fill="none" stroke="#f0f0f0" stroke-width="12"></circle>
                                    <circle id="kpi-donut" cx="60" cy="60" r="54" fill="none" stroke="var(--color-magenta)" stroke-width="12" stroke-linecap="round" stroke-dasharray="339" stroke-dashoffset="339" transform="rotate(-90 60 60)"></circle>
                                </svg>
                                <div class="kpi-text">
                                    <div style="font-weight:700; font-size:24px; color:var(--color-magenta);" id="kpi-val"></div>
                                    <div id="kpi-desc" style="font-size:13px; color:#666; margin-top:4px;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-head">í•µì‹¬ê°€ì¹˜ 5ëŒ€ í•­ëª©</div>
                            <div id="cv-list"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-head">Career & Growth</div>
                        <div class="career-path">
                            <div class="cp-node" id="dev-current"></div>
                            <div class="cp-arrow">âœ</div>
                            <div class="cp-node future" id="dev-goal"></div>
                        </div>
                        <div style="margin-top:20px; background:#f9f9f9; padding:20px; border-radius:12px;">
                            <div style="font-weight:700; margin-bottom:10px;">ğŸš© ìœ¡ì„± ëª©í‘œ</div>
                            <div id="dev-comp-goals"></div>
                        </div>
                    </div>
                </div>

                <!-- 3. ì „ë‹¬ (í”¼ë“œë°±) -->
                <div id="dt-feedback" class="detail-content">
                    <div class="card">
                        <div class="card-head" style="color:var(--color-purple);">Step 1. í”¼ë“œë°± í‚¤ì›Œë“œ ì…ë ¥</div>
                        <div class="fb-input-grid">
                            <div class="fb-card-small">
                                <span class="fb-label" style="color:var(--color-magenta)">ğŸ”¥ ê°•ì  (Strength)</span>
                                <textarea id="input-str" class="fb-textarea" placeholder="ì˜ˆ: ë¶„ì„ì ì¸ ì‚¬ê³ , ë¹ ë¥¸ ìŠµë“ë ¥"></textarea>
                            </div>
                            <div class="fb-card-small">
                                <span class="fb-label" style="color:var(--color-teal)">ğŸ’¡ ë³´ì™„ì  (Improvement)</span>
                                <textarea id="input-imp" class="fb-textarea" placeholder="ì˜ˆ: ì†Œí†µ ê°•í™”, ê²½ì²­í•˜ëŠ” íƒœë„"></textarea>
                            </div>
                            <div class="fb-card-small">
                                <span class="fb-label" style="color:var(--color-purple)">ğŸš€ ì„±ì¥ ë°©í–¥ (Growth)</span>
                                <textarea id="input-gro" class="fb-textarea" placeholder="ì˜ˆ: í”„ë¡œì íŠ¸ ë¦¬ë”, ê¸°ìˆ  ì „ë¬¸ê°€"></textarea>
                            </div>
                        </div>
                        <div style="text-align:right;">
                            <button class="login-btn" style="width:auto; padding:12px 30px; margin:0;" onclick="generateEvidence()">âœ¨ AI ê·¼ê±° ì°¾ê¸°</button>
                        </div>
                    </div>

                    <div id="ai-evidence-section" class="evidence-container">
                        <div class="card-head" style="border:none; margin-bottom:10px;">Step 2. AI ì¶”ì²œ ê·¼ê±° ì„ íƒ</div>
                        <div class="evidence-grid">
                            <div class="evidence-box" id="ev-box-str" onclick="selectEvidence('str')">
                                <div style="font-size:12px; color:#888; margin-bottom:6px;">ê°•ì  ê·¼ê±°</div>
                                <div id="ev-text-str" style="font-size:13px; line-height:1.5;"></div>
                            </div>
                            <div class="evidence-box" id="ev-box-imp" onclick="selectEvidence('imp')">
                                <div style="font-size:12px; color:#888; margin-bottom:6px;">ë³´ì™„ì  ê·¼ê±°</div>
                                <div id="ev-text-imp" style="font-size:13px; line-height:1.5;"></div>
                            </div>
                            <div class="evidence-box" id="ev-box-gro" onclick="selectEvidence('gro')">
                                <div style="font-size:12px; color:#888; margin-bottom:6px;">ì„±ì¥ ì œì–¸</div>
                                <div id="ev-text-gro" style="font-size:13px; line-height:1.5;"></div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-head">Step 3. í†¤ì•¤ë§¤ë„ˆ & ìµœì¢… ìƒì„±</div>
                        <div class="tone-controls">
                            <div class="tone-group">
                                <span style="font-size:13px; font-weight:700;">í™”ë²•</span>
                                <div class="tone-btn-group">
                                    <div class="tone-btn active" onclick="setTone('direct', this)">ì§ì„¤ì </div>
                                    <div class="tone-btn" onclick="setTone('indirect', this)">ì™„ê³¡í•¨</div>
                                </div>
                            </div>
                            <div class="tone-group">
                                <span style="font-size:13px; font-weight:700;">ê´€ì </span>
                                <div class="tone-btn-group">
                                    <div class="tone-btn active" onclick="setTone('task', this)">ê³¼ì—… ì¤‘ì‹¬</div>
                                    <div class="tone-btn" onclick="setTone('relation', this)">ê´€ê³„ ì¤‘ì‹¬</div>
                                </div>
                            </div>
                        </div>
                        <textarea id="final-feedback-text" class="final-msg-box" placeholder="AIê°€ ìƒì„±í•œ ìµœì¢… ë©”ì‹œì§€ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤."></textarea>
                        <div style="text-align:right; margin-top:20px;">
                            <button class="login-btn" style="width:auto; padding:12px 30px; margin:0;" onclick="alert('í”¼ë“œë°±ì´ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤!')">ğŸ“© í”¼ë“œë°± ì „ì†¡</button>
                        </div>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script>
        // --- ë°ì´í„°ë² ì´ìŠ¤ (Full Data) ---
        const teamDB = {
            'ë°•íƒœí¬': {
                job: 'Data Scientist', avatar: 'ğŸ‘©ğŸ»â€ğŸ’»', years: '5ë…„ 3ê°œì›”',
                keywords: ['#ë°ì´í„°ë¶„ì„', '#í†µê³„', '#ë…¼ë¦¬ì '],
                skills: [ { name: 'Python', per: 90, color: '#D7177B' }, { name: 'ML', per: 75, color: '#551D83' } ],
                strengths: ['ë°ì´í„° ì¸ì‚¬ì´íŠ¸ ë„ì¶œ', 'ìƒˆë¡œìš´ íˆ´ í•™ìŠµ ë¹ ë¦„'], weaknesses: ['ë°œí‘œ ìŠ¤í‚¬ ë¶€ì¡±', 'ë©€í‹°íƒœìŠ¤í‚¹ ì–´ë ¤ì›€'],
                growthPath: "M10 90 Q 150 20 290 50", growthPoints: [{x:10,y:90}, {x:150,y:20}, {x:290,y:50}], growthDesc: "ìµœê·¼ ë¶„ì„ ì—­ëŸ‰ì´ ê¸‰ê²©íˆ ìƒìŠ¹í•¨",
                history: [ { date:'23.01', title:'DXíŒ€ í•©ë¥˜', desc:'ë°ì´í„° ë¶„ì„ ë¦¬ë“œ' }, { date:'19.01', title:'ì…ì‚¬', desc:'ìƒì‚°ê¸°ìˆ íŒ€' } ],
                kpiTotal: 92, kpiDesc: "ë°ì´í„° íŒŒì´í”„ë¼ì¸ êµ¬ì¶• ì™„ë£Œ (120% ë‹¬ì„±)",
                coreValues: [ {n:'Customer', s:95}, {n:'Sustainability', s:85}, {n:'Agility', s:90}, {n:'Passion', s:92}, {n:'Collaboration', s:80} ],
                currRole: 'Data Scientist', goalRole: 'Data Tech Lead', compGoals: ['MLOps êµ¬ì¶• ê²½í—˜', 'AWS ìê²© ì·¨ë“'],
                projectLog: { succ: "ë°ì´í„° íŒŒì´í”„ë¼ì¸ ìµœì í™”ë¡œ ì²˜ë¦¬ ì†ë„ 200% ê°œì„ ", imp: "í˜„ì—… ë¶€ì„œì™€ì˜ ì´ˆê¸° ìš”êµ¬ì‚¬í•­ ì¡°ìœ¨ ë¯¸í¡" }
            },
            'ë°•ì¬í˜„': {
                job: 'AI Researcher', avatar: 'ğŸ‘¨ğŸ»â€ğŸ”¬', years: '8ë…„ 1ê°œì›”',
                keywords: ['#AI', '#ë”¥ëŸ¬ë‹', '#í˜ì‹ '],
                skills: [ { name: 'Deep Learning', per: 95, color: '#551D83' }, { name: 'CV', per: 80, color: '#D7177B' } ],
                strengths: ['ìµœì‹  ë…¼ë¬¸ êµ¬í˜„ ëŠ¥ë ¥', 'ì•Œê³ ë¦¬ì¦˜ ìµœì í™”'], weaknesses: ['ë¹„ì¦ˆë‹ˆìŠ¤ ì ìš© ê´€ì ', 'ë¬¸ì„œí™” ìŠµê´€'],
                growthPath: "M10 70 L 150 50 L 290 20", growthPoints: [{x:10,y:70}, {x:150,y:50}, {x:290,y:20}], growthDesc: "ê¾¸ì¤€í•œ ìš°ìƒí–¥ ì„±ì¥ì„¸ ìœ ì§€",
                history: [ { date:'22.01', title:'ì„ í–‰ì—°êµ¬íŒ€', desc:'ë¹„ì „ ê²€ì‚¬' } ],
                kpiTotal: 88, kpiDesc: "íŠ¹í—ˆ 2ê±´ ì¶œì›, í•™íšŒ ë°œí‘œ",
                coreValues: [ {n:'Customer', s:80}, {n:'Sustainability', s:75}, {n:'Agility', s:95}, {n:'Passion', s:90}, {n:'Collaboration', s:70} ],
                currRole: 'AI Researcher', goalRole: 'Principal Researcher', compGoals: ['Top Tier í•™íšŒ ë…¼ë¬¸', 'ê¸€ë¡œë²Œ ë„¤íŠ¸ì›Œí‚¹'],
                projectLog: { succ: "ë¹„ì „ ê²€ì‚¬ ì •í™•ë„ 99.5% ë‹¬ì„±", imp: "í˜„ì¥ ì—”ì§€ë‹ˆì–´ í”¼ë“œë°± ë°˜ì˜ ì§€ì—°" }
            },
            'ë°•ì •í˜¸': {
                job: 'Project Manager', avatar: 'ğŸ‘¨ğŸ»â€ğŸ’¼', years: '12ë…„',
                keywords: ['#PM', '#ë¦¬ë”ì‹­', '#ì†Œí†µ'],
                skills: [ { name: 'PM', per: 92, color: '#008785' }, { name: 'Communication', per: 88, color: '#551D83' } ],
                strengths: ['ê°•ë ¥í•œ ì¶”ì§„ë ¥', 'ì´í•´ê´€ê³„ì ì¡°ìœ¨'], weaknesses: ['ìµœì‹  ê¸°ìˆ  íŠ¸ë Œë“œ ì´í•´'],
                growthPath: "M10 30 Q 150 20 290 20", growthPoints: [{x:10,y:30}, {x:150,y:20}, {x:290,y:20}], growthDesc: "ì•ˆì •ì ì¸ ë¦¬ë”ì‹­ ë°œíœ˜ ë‹¨ê³„",
                history: [ { date:'20.01', title:'DX PM', desc:'ìŠ¤ë§ˆíŠ¸íŒ©í† ë¦¬' } ],
                kpiTotal: 95, kpiDesc: "í”„ë¡œì íŠ¸ ë‚©ê¸° 100% ì¤€ìˆ˜",
                coreValues: [ {n:'Customer', s:90}, {n:'Sustainability', s:85}, {n:'Agility', s:88}, {n:'Passion', s:92}, {n:'Collaboration', s:98} ],
                currRole: 'Project Manager', goalRole: 'Center Leader', compGoals: ['PMP ê°±ì‹ ', 'ì• ìì¼ ì½”ì¹­ ìê²©'],
                projectLog: { succ: "ìŠ¤ë§ˆíŠ¸íŒ©í† ë¦¬ ì˜ˆì‚° 15% ì ˆê°", imp: "ì´ˆê¸° ê¸°ìˆ  ê²€í†  ë‹¨ê³„ ë¦¬ìŠ¤í¬ ê´€ë¦¬" }
            },
            'ë°•ì¬ì›': {
                job: 'Software Eng.', avatar: 'ğŸ‘¨ğŸ»â€ğŸ’»', years: '3ë…„',
                keywords: ['#ê°œë°œ', '#í´ë¼ìš°ë“œ', '#ì„±ì‹¤'],
                skills: [ { name: 'React', per: 75, color: '#551D83' }, { name: 'AWS', per: 60, color: '#70C0E6' } ],
                strengths: ['ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘', 'ì„±ì‹¤í•œ íƒœë„'], weaknesses: ['ì•„í‚¤í…ì²˜ ì„¤ê³„', 'ì½”ë“œ ë¦¬ë·° ì°¸ì—¬'],
                growthPath: "M10 90 L 100 80 L 290 40", growthPoints: [{x:10,y:90}, {x:100,y:80}, {x:290,y:40}], growthDesc: "ì´ˆê¸° ì ì‘ í›„ ê°€íŒŒë¥¸ ì„±ì¥",
                history: [ { date:'21.02', title:'ì…ì‚¬', desc:'í”Œë«í¼ ê°œë°œ' } ],
                kpiTotal: 85, kpiDesc: "ì‹ ê·œ ê¸°ëŠ¥ 3ì¢… ë°°í¬ ì™„ë£Œ",
                coreValues: [ {n:'Customer', s:85}, {n:'Sustainability', s:80}, {n:'Agility', s:85}, {n:'Passion', s:90}, {n:'Collaboration', s:88} ],
                currRole: 'Software Eng.', goalRole: 'Architect', compGoals: ['Kubernetes ë§ˆìŠ¤í„°', 'MSA ì „í™˜ ê²½í—˜'],
                projectLog: { succ: "ì‚¬ìš©ì ìš”ì²­ ê¸°ëŠ¥ 2ì£¼ë‚´ ë°°í¬", imp: "í…ŒìŠ¤íŠ¸ ì½”ë“œ ì»¤ë²„ë¦¬ì§€ ë¶€ì¡±" }
            },
            'í•˜ìœ ë¦¼': {
                job: 'UX Designer', avatar: 'ğŸ‘©ğŸ»â€ğŸ¨', years: '4ë…„',
                keywords: ['#UX', '#ë””ìì¸', '#ê³µê°'],
                skills: [ { name: 'UI Design', per: 88, color: '#D7177B' }, { name: 'Figma', per: 90, color: '#551D83' } ],
                strengths: ['ì‚¬ìš©ì ì¤‘ì‹¬ ì‚¬ê³ ', 'ì°½ì˜ì  ë””ìì¸'], weaknesses: ['ë°ì´í„° ê¸°ë°˜ ì„¤ë“'],
                growthPath: "M10 90 C 100 90 150 40 290 30", growthPoints: [{x:10,y:90}, {x:290,y:30}], growthDesc: "ë””ìì¸ ì‹œìŠ¤í…œ êµ¬ì¶•ìœ¼ë¡œ ì „ë¬¸ì„± í™•ëŒ€",
                history: [ { date:'19.11', title:'ì…ì‚¬', desc:'ë””ìì¸ì„¼í„°' } ],
                kpiTotal: 90, kpiDesc: "ë””ìì¸ ì‹œìŠ¤í…œ 1.0 ë°°í¬",
                coreValues: [ {n:'Customer', s:98}, {n:'Sustainability', s:80}, {n:'Agility', s:85}, {n:'Passion', s:90}, {n:'Collaboration', s:92} ],
                currRole: 'UX Designer', goalRole: 'Product Designer', compGoals: ['UX Writing', 'ë°ì´í„° ì‹œê°í™”'],
                projectLog: { succ: "ê°œë°œ-ë””ìì¸ í˜‘ì—… íš¨ìœ¨ 30% ì¦ê°€", imp: "ë¡œê·¸ ë°ì´í„° ê¸°ë°˜ ê·¼ê±° ë¶€ì¡±" }
            }
        };

        let currentMember = null;
        let selectedEvidence = { str: '', imp: '', gro: '' };
        let toneProfile = { direct: true, task: true };

        // --- ë¡œê·¸ì¸ ---
        function checkLogin() {
            const id = document.getElementById('login-id').value;
            const pw = document.getElementById('login-pw').value;
            if(id === 'HEROSB' && pw === 'LGCHEM') {
                document.getElementById('login-page').style.display = 'none';
                document.getElementById('main-app').style.display = 'flex';
                showDashboard();
            } else {
                alert('ID: HEROSB, PW: LGCHEM ì…ë‹ˆë‹¤.');
            }
        }
        document.getElementById('login-pw').addEventListener('keypress', (e) => { if(e.key==='Enter') checkLogin(); });

        // --- ë„¤ë¹„ê²Œì´ì…˜ ---
        function hideAllViews() {
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.menu-item').forEach(el => el.classList.remove('active'));
        }
        function showDashboard() { hideAllViews(); document.getElementById('view-dashboard').classList.add('active'); }
        function showEval() { 
            hideAllViews(); 
            document.getElementById('view-evaluation').classList.add('active'); 
            document.getElementById('menu-eval').classList.add('active');
        }
        function switchEvalTab(el) {
            document.querySelectorAll('.sub-tab-item').forEach(i => i.classList.remove('active'));
            el.classList.add('active');
        }
        function showFeedbackList() {
            hideAllViews();
            document.getElementById('view-feedback-list').classList.add('active');
            document.getElementById('menu-feedback').classList.add('active');
            renderMembers();
        }

        // --- í”¼ë“œë°± (ë¦¬ìŠ¤íŠ¸) ---
        function renderMembers() {
            const container = document.getElementById('member-card-container');
            container.innerHTML = '';
            Object.keys(teamDB).forEach(name => {
                const m = teamDB[name];
                const card = document.createElement('div');
                card.className = 'member-card';
                card.onclick = () => showFeedbackDetail(name);
                const tags = m.keywords.map(k => `<span class="mc-tag">${k}</span>`).join('');
                card.innerHTML = `<div class="mc-avatar">${m.avatar}</div><div class="mc-name">${name}</div><div class="mc-role">${m.job} | ${m.years}</div><div class="mc-tags">${tags}</div>`;
                container.appendChild(card);
            });
        }

        // --- í”¼ë“œë°± (ìƒì„¸) ---
        function showFeedbackDetail(name) {
            currentMember = teamDB[name];
            hideAllViews();
            document.getElementById('view-feedback-detail').classList.add('active');
            document.getElementById('menu-feedback').classList.add('active');
            
            document.getElementById('detail-member-name').innerText = name;
            
            // [Tab 1: Basic]
            document.getElementById('p-avatar').innerText = currentMember.avatar;
            document.getElementById('p-name').innerText = name;
            document.getElementById('p-job').innerText = `${currentMember.job} | ${currentMember.years}`;
            document.getElementById('p-keywords').innerHTML = currentMember.keywords.map(k => `<span class="mc-tag">${k}</span>`).join('');
            document.getElementById('p-info-list').innerHTML = `<div>ì…ì‚¬ì¼: ${currentMember.history[currentMember.history.length-1].date}</div>`;
            
            document.getElementById('p-skills').innerHTML = currentMember.skills.map(s => 
                `<div class="skill-row"><div class="skill-info"><span>${s.name}</span><span>${s.per}%</span></div><div class="progress-track"><div class="progress-fill" style="width:${s.per}%; background:${s.color}"></div></div></div>`
            ).join('');
            document.getElementById('p-strengths').innerHTML = currentMember.strengths.map(s => `<div class="swot-item">+ ${s}</div>`).join('');
            document.getElementById('p-weaknesses').innerHTML = currentMember.weaknesses.map(s => `<div class="swot-item">- ${s}</div>`).join('');
            
            document.getElementById('growth-path').setAttribute('d', currentMember.growthPath);
            document.getElementById('growth-points').innerHTML = currentMember.growthPoints.map(p => `<circle cx="${p.x}" cy="${p.y}" r="4" fill="#fff" stroke="var(--color-purple)" stroke-width="2"/>`).join('');
            document.getElementById('growth-desc').innerText = currentMember.growthDesc;
            
            document.getElementById('p-history').innerHTML = currentMember.history.map(h => 
                `<div class="timeline-item"><div class="tl-date">${h.date}</div><div class="tl-title">${h.title}</div><div class="tl-desc">${h.desc}</div></div>`
            ).join('');

            // [Tab 2: Perf]
            const finalScore = currentMember.kpiTotal * 0.8 + currentMember.coreValues.reduce((a,b)=>a+b.s,0)/5 * 0.2;
            document.getElementById('final-grade').innerText = finalScore >= 90 ? 'S' : (finalScore >= 80 ? 'A' : 'B');
            document.getElementById('sum-kpi').innerText = currentMember.kpiTotal;
            document.getElementById('sum-cv').innerText = Math.round(currentMember.coreValues.reduce((a,b)=>a+b.s,0)/5);
            
            document.getElementById('kpi-val').innerText = currentMember.kpiTotal + '%';
            document.getElementById('kpi-desc').innerText = currentMember.kpiDesc;
            const dashOffset = 339 - (339 * currentMember.kpiTotal / 100);
            setTimeout(() => document.getElementById('kpi-donut').style.strokeDashoffset = dashOffset, 100);
            
            document.getElementById('cv-list').innerHTML = currentMember.coreValues.map(c => 
                `<div style="margin-bottom:8px; font-size:13px;"><div style="display:flex; justify-content:space-between; margin-bottom:2px;"><span>${c.n}</span><strong>${c.s}</strong></div><div style="height:4px; background:#eee; border-radius:2px;"><div style="width:${c.s}%; height:100%; background:var(--color-teal); border-radius:2px;"></div></div></div>`
            ).join('');
            
            document.getElementById('dev-current').innerText = currentMember.currRole;
            document.getElementById('dev-goal').innerText = currentMember.goalRole;
            document.getElementById('dev-comp-goals').innerHTML = `<ul>${currentMember.compGoals.map(g => `<li>${g}</li>`).join('')}</ul>`;

            // Reset UI
            switchDetailTab('basic', document.querySelector('.detail-tab'));
            document.getElementById('input-str').value = '';
            document.getElementById('input-imp').value = '';
            document.getElementById('input-gro').value = '';
            document.getElementById('final-feedback-text').value = '';
            document.getElementById('ai-evidence-section').classList.remove('active');
            selectedEvidence = { str:'', imp:'', gro:'' };
        }

        function switchDetailTab(tabName, el) {
            document.querySelectorAll('.detail-tab').forEach(t => t.classList.remove('active'));
            el.classList.add('active');
            document.querySelectorAll('.detail-content').forEach(c => c.classList.remove('active'));
            document.getElementById('dt-' + tabName).classList.add('active');
        }

        // --- AI Logic ---
        function generateEvidence() {
            if(!document.getElementById('input-str').value || !document.getElementById('input-imp').value || !document.getElementById('input-gro').value) {
                alert('í‚¤ì›Œë“œë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return;
            }
            // ê·¼ê±° ìƒì„±
            document.getElementById('ev-text-str').innerText = `"${currentMember.projectLog.succ}" ì„±ê³¼ë¥¼ ë³´ë©´, ì…ë ¥í•˜ì‹  ê°•ì ì´ ì˜ ë“œëŸ¬ë‚©ë‹ˆë‹¤.`;
            document.getElementById('ev-text-imp').innerText = `"${currentMember.projectLog.imp}" ì‚¬ë¡€ì—ì„œ ë³´ì™„ì´ í•„ìš”í•´ ë³´ì…ë‹ˆë‹¤.`;
            document.getElementById('ev-text-gro').innerText = `"${currentMember.goalRole}"ë¡œ ì„±ì¥í•˜ê¸° ìœ„í•´ ê¼­ í•„ìš”í•œ ë¶€ë¶„ì…ë‹ˆë‹¤.`;
            
            document.getElementById('ai-evidence-section').classList.add('active');
            createFinalMsg();
        }

        function selectEvidence(type) {
            const box = document.getElementById('ev-box-'+type);
            const text = document.getElementById('ev-text-'+type).innerText;
            if(selectedEvidence[type]) {
                selectedEvidence[type] = ''; box.classList.remove('selected');
            } else {
                selectedEvidence[type] = text; box.classList.add('selected');
            }
            createFinalMsg();
        }

        function setTone(type, el) {
            const isDirect = type === 'direct' || type === 'indirect';
            if(isDirect) toneProfile.direct = (type === 'direct');
            else toneProfile.task = (type === 'task');
            
            el.parentElement.querySelectorAll('.tone-btn').forEach(b => b.classList.remove('active'));
            el.classList.add('active');
            createFinalMsg();
        }

        function createFinalMsg() {
            const str = document.getElementById('input-str').value;
            const imp = document.getElementById('input-imp').value;
            const gro = document.getElementById('input-gro').value;
            
            let msg = toneProfile.direct ? "ê¸ˆë…„ë„ ì„±ê³¼ì— ëŒ€í•´ í”¼ë“œë°± ë“œë¦½ë‹ˆë‹¤.\n\n" : "ì˜¬ í•œ í•´ ì •ë§ ê³ ìƒ ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤. ì„±ê³¼ì— ëŒ€í•´ ì´ì•¼ê¸° ë‚˜ëˆ„ê³  ì‹¶ìŠµë‹ˆë‹¤.\n\n";
            
            msg += `1. ê°•ì \n${str} ë¶€ë¶„ì´ íƒì›”í•©ë‹ˆë‹¤.`;
            if(selectedEvidence.str) msg += ` íŠ¹íˆ ${selectedEvidence.str}`;
            msg += "\n\n";

            msg += `2. ë³´ì™„ì \n${imp} ë¶€ë¶„ì€ ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤.`;
            if(selectedEvidence.imp) msg += ` ${selectedEvidence.imp}`;
            msg += "\n\n";

            msg += `3. ì„±ì¥ ì œì–¸\n${gro} ë°©í–¥ìœ¼ë¡œ ì—­ëŸ‰ì„ í‚¤ì›Œë´…ì‹œë‹¤.`;
            if(selectedEvidence.gro) msg += ` ${selectedEvidence.gro}`;
            
            document.getElementById('final-feedback-text').value = msg;
        }
    </script>
</body>
</html>
